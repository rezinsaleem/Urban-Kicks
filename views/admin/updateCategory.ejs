<%- include('../partials/adminHead') -%>

<main role="main" class="main-content">
<div class="container mt-5">
  <div class="container mt-5">
    <h2>Edit Category</h2>
    <form action="/admin/updatecategory/<%= category._id %>" method="POST" enctype="application/x-www-form-urlencoded">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" class="form-control" id="name" name="name" value="<%= category.name %>" required>
      </div>
      <div class="form-group">
        <label for="description">Description:</label>
        <textarea class="form-control" id="description" name="description" required><%= category.description %></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Update Category</button>
    </form>
</div>

</main>
</div>


<script>

  const form = document.querySelector('form');
  
  form.addEventListener('submit', async (event) => {
    event.preventDefault(); // Prevent the default form submission
  
    try {
  
      // Display success Swal
      await Swal.fire({
        icon: 'success',
        title: 'Category updated Successfully',
        showConfirmButton: false,
        timer: 1000
      });
  
      // After displaying the success Swal, submit the form
      form.submit();
    } catch (error) {
      console.error('Error:', error);
      
    }
  });
  
    </script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>


<%- include('../partials/adminFooter') -%>